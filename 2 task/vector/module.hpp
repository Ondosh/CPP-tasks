/**
 * @file module.hpp
 * @brief Объявления функций для работы с векторами: математической обработки, генерации,
 *        ввода/вывода и файловых операций.
 *
 * Содержит три пространства имён:
 * - mathfunc: математические операции (например, сумма квадратов)
 * - auxiliary: вспомогательные функции (генерация случайного вектора, красивый вывод)
 * - file_work: работа с файлами (сохранение и загрузка вектора)
 */

#ifndef MATH_FUNCTIONS
#define MATH_FUNCTIONS

#include <vector>
#include <string>  // std::string нужен для file_work

/**
 * @namespace mathfunc
 * @brief Содержит функции для математических вычислений над векторами.
 */
namespace mathfunc {
    /**
     * @brief Вычисляет сумму квадратов всех элементов вектора.
     *
     * @param numbers — константная ссылка на вектор целых чисел
     * @return Сумма квадратов элементов (тип int). Возвращает 0, если вектор пуст.
     *
     * @pre Вектор может быть пустым.
     * @post Результат всегда неотрицателен (≥ 0).
     * @note Используется стандартное целочисленное умножение. Возможны переполнения при больших числах!
     *
     * @example
     * std::vector<int> v = {1, 2, 3};
     * int s = mathfunc::sum_of_powers(v); // s == 1 + 4 + 9 == 14
     */
    int sum_of_powers(const std::vector<int>& numbers);
}

/**
 * @namespace auxiliary
 * @brief Вспомогательные утилиты: генерация данных и форматированный вывод.
 */
namespace auxiliary {
    /**
     * @brief Генерирует вектор из `n` случайных целых чисел от 1 до 10 включительно.
     *
     * Использует `std::rand()` с инициализацией через `std::srand(std::time(0))`.
     * @warning Функция вызывает `srand()` — **не используйте её более одного раза** в программе!
     *
     * @param n — количество генерируемых чисел (должно быть > 0)
     * @return Вектор из `n` случайных чисел в диапазоне [1, 10]
     *
     * @pre n > 0
     */
    std::vector<int> random_vector(int n);

    /**
     * @brief Выводит элементы вектора в консоль, по 10 чисел в строке.
     *
     * Элементы разделяются пробелом. После каждого 10-го элемента происходит
     * переход на новую строку. Если вектор пуст — ничего не выводится.
     *
     * @param vec — константная ссылка на вектор целых чисел
     */
    void print_vector_by_10(const std::vector<int>& vec);
}

/**
 * @namespace file_work
 * @brief Функции для чтения и записи векторов в/из текстовых файлов.
 */
namespace file_work {
    /**
     * @brief Сохраняет вектор целых чисел в текстовый файл (по одному числу на строке).
     *
     * @param vec — вектор для сохранения
     * @param filename — имя целевого файла (перезаписывается, если существует)
     * @return `true`, если файл успешно записан; `false` — при ошибке открытия.
     *
     * @note При ошибке выводится сообщение в `std::cerr`.
     */
    bool save_vector_to_file(const std::vector<int>& vec, const std::string& filename);

    /**
     * @brief Загружает вектор целых чисел из текстового файла.
     *
     * Файл должен содержать по одному целому числу на строке. Пустые строки
     * и нечисловые данные игнорируются (чтение прекращается при первой ошибке формата).
     *
     * @param filename — имя файла для чтения
     * @return Вектор прочитанных чисел. Пустой вектор возвращается, если файл
     *         не найден, пуст или произошла ошибка открытия.
     *
     * @note При ошибках чтения выводится предупреждение в `std::cerr`.
     */
    std::vector<int> load_vector_from_file(const std::string& filename);
}

#endif // MATH_FUNCTIONS